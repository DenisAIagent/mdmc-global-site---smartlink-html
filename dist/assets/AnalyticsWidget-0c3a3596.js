import{e as b,c as r,v as x,T as i,d as n,S as h,l as S,G as f,B as w,k as u,m as y,U as k,$ as C,a0 as L,n as A,L as z,E as M,H as V,J as W}from"./ui-8fe63d91.js";import"./vendor-73f70a13.js";import{V as $}from"./index-3e5c358d.js";import"./router-d3a551c4.js";import"./i18n-757038dc.js";import"./utils-b8a29b2a.js";import"./analytics-f0f53c8f.js";import"./forms-769d622f.js";const E=({title:o,value:s,change:l,changeType:d,icon:a,color:e,loading:p=!1})=>{const c=b();return p?r(u,{sx:{height:"100%",minHeight:120},children:n(y,{children:[r(k,{}),r(i,{variant:"body2",sx:{mt:2},children:"Chargement..."})]})}):r(u,{sx:{height:"100%",minHeight:120,background:`linear-gradient(135deg, ${e}08 0%, ${e}03 100%)`,border:`1px solid ${e}20`,position:"relative",overflow:"hidden",transition:"all 0.3s ease","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"3px",background:e},"&:hover":{transform:"translateY(-2px)",boxShadow:`0 8px 16px ${e}20`}},children:r(y,{sx:{p:2},children:n(h,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[n(w,{sx:{flex:1},children:[r(i,{variant:"body2",color:"text.secondary",sx:{fontWeight:500,mb:1},children:o}),r(i,{variant:"h5",sx:{fontWeight:700,color:"text.primary",mb:1},children:typeof s=="number"?s.toLocaleString():s}),l&&n(h,{direction:"row",alignItems:"center",spacing:.5,children:[d==="positive"?r(C,{sx:{color:c.palette.success.main,fontSize:16}}):r(L,{sx:{color:c.palette.error.main,fontSize:16}}),r(i,{variant:"body2",sx:{color:d==="positive"?c.palette.success.main:c.palette.error.main,fontWeight:600},children:l}),r(i,{variant:"caption",color:"text.secondary",children:"vs mois dernier"})]})]}),r(A,{sx:{bgcolor:e,width:40,height:40,boxShadow:`0 4px 8px ${e}30`},children:a})]})})})},F=({variant:o="overview",widgetId:s,isEditing:l=!1,title:d="Analytics Overview"})=>{var g,v;const a=b(),{data:e,isLoading:p,error:c}=$(),T=(()=>{if(!e)return[];const{stats:t}=e,m=[{title:"Total SmartLinks",value:t.totalSmartLinks.value,change:t.totalSmartLinks.change,changeType:t.totalSmartLinks.changeType,icon:r(z,{fontSize:"small"}),color:a.palette.primary.main},{title:"Artistes Actifs",value:t.activeArtists.value,change:t.activeArtists.change,changeType:t.activeArtists.changeType,icon:r(M,{fontSize:"small"}),color:a.palette.secondary.main},{title:"Vues ce mois",value:t.monthlyViews.value,change:t.monthlyViews.change,changeType:t.monthlyViews.changeType,icon:r(V,{fontSize:"small"}),color:a.palette.success.main},{title:"Clics totaux",value:t.totalClicks.value,change:t.totalClicks.change,changeType:t.totalClicks.changeType,icon:r(W,{fontSize:"small"}),color:a.palette.warning.main}];return o==="compact"?m.slice(0,2):m})();return c?r(x,{sx:{p:2,height:"100%",minHeight:200},children:r(i,{color:"error",variant:"body2",children:"Erreur de chargement des mÃ©triques"})}):n(x,{sx:{p:2,height:"100%",minHeight:o==="compact"?150:200,...l&&{cursor:"move","&:hover":{bgcolor:"action.hover"}}},children:[n(h,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[r(i,{variant:"h6",sx:{fontWeight:600},children:d}),((v=(g=e==null?void 0:e.enriched)==null?void 0:g.trends)==null?void 0:v.overallTrend)&&r(S,{label:e.enriched.trends.overallTrend==="excellent"?"Excellent":e.enriched.trends.overallTrend==="good"?"Bon":e.enriched.trends.overallTrend==="stable"?"Stable":"En baisse",size:"small",color:e.enriched.trends.overallTrend==="excellent"?"success":e.enriched.trends.overallTrend==="good"?"primary":e.enriched.trends.overallTrend==="stable"?"default":"error",variant:"outlined"})]}),r(f,{container:!0,spacing:2,children:T.map((t,m)=>r(f,{item:!0,xs:o==="compact"?6:12,sm:6,md:6,lg:o==="compact"?6:3,children:r(E,{...t,loading:p})},t.title))}),o==="overview"&&(e==null?void 0:e.enriched)&&r(w,{sx:{mt:2,pt:2,borderTop:1,borderColor:"divider"},children:n(h,{direction:"row",spacing:2,flexWrap:"wrap",children:[n(i,{variant:"caption",color:"text.secondary",children:["Performance Score: ",e.enriched.performance.performanceScore,"/100"]}),n(i,{variant:"caption",color:"text.secondary",children:["Taux de conversion: ",e.enriched.performance.conversionRate,"%"]}),n(i,{variant:"caption",color:"text.secondary",children:["Niveau: ",e.enriched.performance.performanceLevel==="excellent"?"Excellent":e.enriched.performance.performanceLevel==="good"?"Bon":e.enriched.performance.performanceLevel==="average"?"Moyen":"Faible"]})]})}),!1]})};export{F as default};
//# sourceMappingURL=AnalyticsWidget-0c3a3596.js.map
